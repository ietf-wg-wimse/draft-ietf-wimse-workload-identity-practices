<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Workload Identity Practices</title>
<meta content="Arndt Schwenkschuster" name="author">
<meta content="Yaroslav Rosomakho" name="author">
<meta content="
       This document describes industry practices for providing secure identities
to workloads in container orchestration, cloud platforms, and other workload
platforms. It explains how workloads obtain credentials for external
authentication purposes, without managing long-lived secrets directly. It does
not take into account the standards work in progress for the WIMSE architecture
  and other protocols, such as
 . 
    " name="description">
<meta content="xml2rfc 3.30.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-wimse-workload-identity-practices-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.30.0
    Python 3.12.11
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.1
    platformdirs 4.3.8
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.4
    setuptools 80.9.0
    wcwidth 0.2.13
-->
<link href="draft-ietf-wimse-workload-identity-practices.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Workload Identity</td>
<td class="right">August 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Schwenkschuster &amp; Rosomakho</td>
<td class="center">Expires 27 February 2026</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Workload Identity in Multi System Environments</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-wimse-workload-identity-practices-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-08-26" class="published">26 August 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2026-02-27">27 February 2026</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Schwenkschuster</div>
<div class="org">SPIRL</div>
</div>
<div class="author">
      <div class="author-name">Y. Rosomakho</div>
<div class="org">Zscaler</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Workload Identity Practices</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes industry practices for providing secure identities
to workloads in container orchestration, cloud platforms, and other workload
platforms. It explains how workloads obtain credentials for external
authentication purposes, without managing long-lived secrets directly. It does
not take into account the standards work in progress for the WIMSE architecture
<span>[<a href="#I-D.ietf-wimse-arch" class="cite xref">I-D.ietf-wimse-arch</a>]</span> and other protocols, such as
<span>[<a href="#I-D.ietf-wimse-s2s-protocol" class="cite xref">I-D.ietf-wimse-s2s-protocol</a>]</span>.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 27 February 2026.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-delivery-patterns" class="internal xref">Delivery Patterns</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-environment-variables" class="internal xref">Environment Variables</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-filesystem" class="internal xref">Filesystem</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-local-apis" class="internal xref">Local APIs</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-practices" class="internal xref">Practices</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-kubernetes" class="internal xref">Kubernetes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-secure-production-identity-" class="internal xref">Secure Production Identity Framework For Everyone (SPIFFE)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-cloud-providers" class="internal xref">Cloud Providers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-continuous-integration-and-" class="internal xref">Continuous Integration and Deployment Systems</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-credential-delivery" class="internal xref">Credential Delivery</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="auto internal xref">5.1.1</a>.  <a href="#name-environment-variables-2" class="internal xref">Environment Variables</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="auto internal xref">5.1.2</a>.  <a href="#name-filesystem-2" class="internal xref">Filesystem</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a href="#section-5.1.3" class="auto internal xref">5.1.3</a>.  <a href="#name-local-apis-2" class="internal xref">Local APIs</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-token-typing" class="internal xref">Token typing</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-custom-claims-are-important" class="internal xref">Custom claims are important for context</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-token-lifetime" class="internal xref">Token lifetime</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-workload-lifecycle-and-inva" class="internal xref">Workload lifecycle and invalidation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-proof-of-possession" class="internal xref">Proof of possession</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="auto internal xref">5.7</a>.  <a href="#name-audience" class="internal xref">Audience</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-variations" class="internal xref">Variations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-direct-access-to-protected-" class="internal xref">Direct access to protected resources</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-custom-assertion-flows" class="internal xref">Custom assertion flows</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-document-history" class="internal xref">Document History</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Just like people, the workloads inside container orchestration systems (e.g.,
Kubernetes) need identities to authenticate with other systems, such as
databases, web servers, or other workloads. The challenge for workloads is to
obtain a credential that can be used to authenticate with these resources
without managing secrets directly, for instance, an OAuth 2.0 access token.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The common use of the OAuth 2.0 framework <span>[<a href="#RFC6749" class="cite xref">RFC6749</a>]</span> in this context poses
challenges, particularly in managing credentials. To address this, the industry
has shifted to a federation-based approach where credentials of the underlying
workload platform are used to authenticate to other identity providers, which in
turn, issue credentials that grant access to resources.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Traditionally, workloads were provisioned with client credentials and used for
example the corresponding client credential flow (Section 1.3.4 <span>[<a href="#RFC6749" class="cite xref">RFC6749</a>]</span>) to
retrieve an OAuth 2.0 access token. This model presents a number of security and
maintenance issues. Secret materials must be provisioned and rotated, which
requires either automation to be built, or periodic manual effort. Secret
materials can be stolen and used by attackers to impersonate the workload.
Other, non OAuth 2.0 flows, such as direct API keys or other secrets, suffer
from the same issues.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Instead of provisioning secret material to the workload, one solution to this
problem is to attest the workload by using its underlying platform. Many
platforms provision workloads with a credential, such as a JWT
(<span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>). Cryptographically signed by the platform's issuer,
this credential attests the workload and its attributes.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5"><a href="#fig-overview" class="auto internal xref">Figure 1</a> illustrates a generic pattern that is seen across many workload
platforms, more concrete variations are found in <a href="#practices" class="auto internal xref">Section 4</a>.<a href="#section-1-5" class="pilcrow">¶</a></p>
<span id="name-generic-workload-identity-p"></span><div id="fig-overview">
<figure id="figure-1">
        <div id="section-1-6.1">
          <div class="alignLeft art-svg artwork" id="section-1-6.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="432" width="512" viewBox="0 0 512 432" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
              <path d="M 48,32 L 48,256" fill="none" stroke="black"></path>
              <path d="M 64,64 L 64,128" fill="none" stroke="black"></path>
              <path d="M 64,352 L 64,416" fill="none" stroke="black"></path>
              <path d="M 112,128 L 112,344" fill="none" stroke="black"></path>
              <path d="M 128,128 L 128,320" fill="none" stroke="black"></path>
              <path d="M 184,128 L 184,208" fill="none" stroke="black"></path>
              <path d="M 208,64 L 208,128" fill="none" stroke="black"></path>
              <path d="M 224,352 L 224,416" fill="none" stroke="black"></path>
              <path d="M 336,64 L 336,128" fill="none" stroke="black"></path>
              <path d="M 368,176 L 368,240" fill="none" stroke="black"></path>
              <path d="M 368,288 L 368,352" fill="none" stroke="black"></path>
              <path d="M 488,64 L 488,128" fill="none" stroke="black"></path>
              <path d="M 488,176 L 488,240" fill="none" stroke="black"></path>
              <path d="M 488,288 L 488,352" fill="none" stroke="black"></path>
              <path d="M 504,32 L 504,256" fill="none" stroke="black"></path>
              <path d="M 48,32 L 504,32" fill="none" stroke="black"></path>
              <path d="M 64,64 L 208,64" fill="none" stroke="black"></path>
              <path d="M 336,64 L 488,64" fill="none" stroke="black"></path>
              <path d="M 216,96 L 328,96" fill="none" stroke="black"></path>
              <path d="M 64,128 L 208,128" fill="none" stroke="black"></path>
              <path d="M 336,128 L 488,128" fill="none" stroke="black"></path>
              <path d="M 368,176 L 488,176" fill="none" stroke="black"></path>
              <path d="M 184,208 L 360,208" fill="none" stroke="black"></path>
              <path d="M 368,240 L 488,240" fill="none" stroke="black"></path>
              <path d="M 48,256 L 504,256" fill="none" stroke="black"></path>
              <path d="M 368,288 L 488,288" fill="none" stroke="black"></path>
              <path d="M 128,320 L 360,320" fill="none" stroke="black"></path>
              <path d="M 64,352 L 224,352" fill="none" stroke="black"></path>
              <path d="M 368,352 L 488,352" fill="none" stroke="black"></path>
              <path d="M 64,416 L 224,416" fill="none" stroke="black"></path>
              <polygon class="arrowhead" points="368,320 356,314.4 356,325.6" fill="black" transform="rotate(0,360,320)"></polygon>
              <polygon class="arrowhead" points="368,208 356,202.4 356,213.6" fill="black" transform="rotate(0,360,208)"></polygon>
              <polygon class="arrowhead" points="336,96 324,90.4 324,101.6" fill="black" transform="rotate(0,328,96)"></polygon>
              <polygon class="arrowhead" points="224,96 212,90.4 212,101.6" fill="black" transform="rotate(180,216,96)"></polygon>
              <polygon class="arrowhead" points="120,344 108,338.4 108,349.6" fill="black" transform="rotate(90,112,344)"></polygon>
              <g class="text">
                <text x="388" y="52">Workload</text>
                <text x="460" y="52">Platform</text>
                <text x="132" y="100">Workload</text>
                <text x="388" y="100">Platform</text>
                <text x="452" y="100">Issuer</text>
                <text x="236" y="116">1)</text>
                <text x="288" y="116">push/pull</text>
                <text x="228" y="196">A)</text>
                <text x="268" y="196">access</text>
                <text x="428" y="212">Resource</text>
                <text x="16" y="308">B1)</text>
                <text x="68" y="308">federate</text>
                <text x="160" y="308">B2)</text>
                <text x="204" y="308">access</text>
                <text x="428" y="324">Resource</text>
                <text x="108" y="388">Identity</text>
                <text x="180" y="388">Provider</text>
              </g>
            </svg><a href="#section-1-6.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-generic-workload-identity-p" class="selfRef">Generic workload identity pattern</a>
        </figcaption></figure>
</div>
<p id="section-1-7">The figure outlines the following steps which are applicable in any pattern.<a href="#section-1-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-8.1">
          <p id="section-1-8.1.1">1) Platform issues credential to workload. The way this is achieved varies
   by platform, for instance, it can be pushed to the workload or
   pulled by the workload.<a href="#section-1-8.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-8.2">
          <p id="section-1-8.2.1">A) The credential can give the workload direct access to resources within the
   platform or the platform itself (e.g., to perform infrastructure operations)<a href="#section-1-8.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-8.3">
          <p id="section-1-8.3.1">B1) The workload uses the credential to federate to an Identity Provider. This
    step is optional and only needed when accessing outside resources.<a href="#section-1-8.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-8.4">
          <p id="section-1-8.4.1">B2) The workload accesses resources outside of the platform and uses the
    federated identity obtained in the previous step.<a href="#section-1-8.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-9">Accessing different outside resources may require the workload to repeat steps
B1) and B2), federating to multiple Identity Providers. It is also possible that
step 1) needs to be repeated, for instance in situations where the
platform-issued credential is scoped to accessing a certain resource or
federating to a specific Identity Provider.<a href="#section-1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
"OPTIONAL" in this document are to be interpreted as described in
BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they appear in all
capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="delivery-patterns">
<section id="section-3">
      <h2 id="name-delivery-patterns">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-delivery-patterns" class="section-name selfRef">Delivery Patterns</a>
      </h2>
<p id="section-3-1">Credentials can be provisioned to the workload by different mechanisms, each of which has
its own advantages, challenges, and security risks. The following
section highlights the pros and cons of common solutions. Security
recommendations for these methods are covered in
<a href="#security-credential-delivery" class="auto internal xref">Section 5.1</a>.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="environment-variables">
<section id="section-3.1">
        <h3 id="name-environment-variables">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-environment-variables" class="section-name selfRef">Environment Variables</a>
        </h3>
<p id="section-3.1-1">Injecting the credentials into the environment variables allows for simple and
fast deployments. Applications can directly access them through system-level
mechanisms, e.g., through the <code>env</code> command in Linux. Note that environment
variables are static in nature in that they cannot be changed after application
initialization.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="filesystem">
<section id="section-3.2">
        <h3 id="name-filesystem">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-filesystem" class="section-name selfRef">Filesystem</a>
        </h3>
<p id="section-3.2-1">Filesystem delivery allows both container secret injection and access control.
Many solutions find the main benefit in the asynchronous provisioning of the
credentials to the workload. This allows the workload to run independently of
the credentials update, and to access them by reading the file.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">Credential rotation requires a solution to detect soon-to-expire secrets as a
rotation trigger. One practice is that the new secret is renewed <em>before</em> the
old secret is invalidated. For example, the solution can choose to update the
secret an hour before it is invalidated. This gives applications time to update
without downtime.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="local-apis">
<section id="section-3.3">
        <h3 id="name-local-apis">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-local-apis" class="section-name selfRef">Local APIs</a>
        </h3>
<p id="section-3.3-1">This pattern relies on local APIs to communicate between the workload and the
credential issuer. Some implementations rely on UNIX Domain Sockets (e.g.,
SPIFFE), loopback interfaces or link-local "magic addresses" (e.g., Instance
Metadata Service of cloud providers) to provision credentials. Local APIs offer
the capability to re-provision updated credentials. Communication between
workload and API allows the workload to refresh a credential or request a
different one. This group of solutions relies on network isolation for their
security.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">Local APIs allow for short-lived, narrowly-scoped credentials. Persistent
connections allow the issuer to push credentials.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">This pattern also requires client code, which introduces portability challenges.
The request-response paradigm and additional operational overhead adds latency.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="practices">
<section id="section-4">
      <h2 id="name-practices">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-practices" class="section-name selfRef">Practices</a>
      </h2>
<p id="section-4-1">The following practices outline more concrete examples of platforms, including
their delivery patterns.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="kubernetes">
<section id="section-4.1">
        <h3 id="name-kubernetes">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-kubernetes" class="section-name selfRef">Kubernetes</a>
        </h3>
<p id="section-4.1-1">In Kubernetes, machine identity is implemented through "service accounts"
<span>[<a href="#KubernetesServiceAccount" class="cite xref">KubernetesServiceAccount</a>]</span>. Service accounts can be explicitly created, or a
default one is automatically assigned. Service accounts use JSON Web Tokens
(JWTs) <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span> as their credential format, with the Kubernetes Control Plane
acting as the signer.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Service accounts serve multiple authentication purposes within the Kubernetes
ecosystem. They are used to authenticate to Kubernetes APIs, between different
workloads and to access external resources. This latter use case is particularly
relevant for the purposes of this document.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">To programmatically use service accounts, workloads can:<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.1">
            <p id="section-4.1-4.1.1">Have the token "projected" into the file system of the workload. This is
similar to volume mounting in non-Kubernetes environments, and is commonly
referred to as "projected service account token".<a href="#section-4.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-4.2">
            <p id="section-4.1-4.2.1">Use the Token Request API <span>[<a href="#TokenRequestV1" class="cite xref">TokenRequestV1</a>]</span> of the control plane. This option,
however, requires an initial projected service account token as a means of
authentication.<a href="#section-4.1-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-5">Both options allow workloads to:<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-6.1">
            <p id="section-4.1-6.1.1">Specify a custom audience. Possible audiences can be restricted based on
policy.<a href="#section-4.1-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-6.2">
            <p id="section-4.1-6.2.1">Specify a custom lifetime. Maximum lifetime can be restricted by policy.<a href="#section-4.1-6.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-6.3">
            <p id="section-4.1-6.3.1">Bind the token lifetime to an object lifecycle. This allows the token to be
invalidated when the object is deleted. For example, this may happen when a
Kubernetes Deployment is removed from the server. Note that invalidation is
only detected when the Token Review API <span>[<a href="#TokenReviewV1" class="cite xref">TokenReviewV1</a>]</span> of Kubernetes is
used to validate the token.<a href="#section-4.1-6.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-7">To validate service account tokens, Kubernetes allows workloads to:<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-8.1">
            <p id="section-4.1-8.1.1">Make use of the Token Review API <span>[<a href="#TokenReviewV1" class="cite xref">TokenReviewV1</a>]</span>. This API introspects the
token, makes sure it hasn't been invalidated and returns the claims.<a href="#section-4.1-8.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-8.2">
            <p id="section-4.1-8.2.1">Mount the public keys used to sign the tokens into the file system of the
workload. This allows workloads to validate a token's signature without
calling the Token Review API.<a href="#section-4.1-8.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-8.3">
            <p id="section-4.1-8.3.1">Optionally, a JSON Web Key Set <span>[<a href="#RFC7517" class="cite xref">RFC7517</a>]</span> is exposed via a web server. This
allows the Service Account Token to be validated outside of the cluster and
access to the actual Kubernetes Control Plane API.<a href="#section-4.1-8.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<span id="name-kubernetes-workload-identit"></span><div id="fig-kubernetes">
<figure id="figure-2">
          <div id="section-4.1-9.1">
            <div class="alignLeft art-svg artwork" id="section-4.1-9.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="496" width="488" viewBox="0 0 488 496" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 80,32 L 80,320" fill="none" stroke="black"></path>
                <path d="M 96,144 L 96,208" fill="none" stroke="black"></path>
                <path d="M 96,416 L 96,480" fill="none" stroke="black"></path>
                <path d="M 112,208 L 112,408" fill="none" stroke="black"></path>
                <path d="M 128,208 L 128,384" fill="none" stroke="black"></path>
                <path d="M 136,96 L 136,144" fill="none" stroke="black"></path>
                <path d="M 160,208 L 160,256" fill="none" stroke="black"></path>
                <path d="M 176,144 L 176,208" fill="none" stroke="black"></path>
                <path d="M 264,64 L 264,128" fill="none" stroke="black"></path>
                <path d="M 272,416 L 272,480" fill="none" stroke="black"></path>
                <path d="M 288,160 L 288,192" fill="none" stroke="black"></path>
                <path d="M 328,136 L 328,160" fill="none" stroke="black"></path>
                <path d="M 344,224 L 344,288" fill="none" stroke="black"></path>
                <path d="M 344,352 L 344,416" fill="none" stroke="black"></path>
                <path d="M 368,160 L 368,192" fill="none" stroke="black"></path>
                <path d="M 384,64 L 384,128" fill="none" stroke="black"></path>
                <path d="M 464,224 L 464,288" fill="none" stroke="black"></path>
                <path d="M 464,352 L 464,416" fill="none" stroke="black"></path>
                <path d="M 480,32 L 480,320" fill="none" stroke="black"></path>
                <path d="M 80,32 L 480,32" fill="none" stroke="black"></path>
                <path d="M 264,64 L 384,64" fill="none" stroke="black"></path>
                <path d="M 136,96 L 256,96" fill="none" stroke="black"></path>
                <path d="M 264,128 L 384,128" fill="none" stroke="black"></path>
                <path d="M 96,144 L 176,144" fill="none" stroke="black"></path>
                <path d="M 288,160 L 368,160" fill="none" stroke="black"></path>
                <path d="M 184,176 L 288,176" fill="none" stroke="black"></path>
                <path d="M 288,192 L 368,192" fill="none" stroke="black"></path>
                <path d="M 96,208 L 176,208" fill="none" stroke="black"></path>
                <path d="M 344,224 L 464,224" fill="none" stroke="black"></path>
                <path d="M 160,256 L 336,256" fill="none" stroke="black"></path>
                <path d="M 344,288 L 464,288" fill="none" stroke="black"></path>
                <path d="M 80,320 L 480,320" fill="none" stroke="black"></path>
                <path d="M 344,352 L 464,352" fill="none" stroke="black"></path>
                <path d="M 128,384 L 336,384" fill="none" stroke="black"></path>
                <path d="M 96,416 L 272,416" fill="none" stroke="black"></path>
                <path d="M 344,416 L 464,416" fill="none" stroke="black"></path>
                <path d="M 96,480 L 272,480" fill="none" stroke="black"></path>
                <polygon class="arrowhead" points="344,384 332,378.4 332,389.6" fill="black" transform="rotate(0,336,384)"></polygon>
                <polygon class="arrowhead" points="344,256 332,250.4 332,261.6" fill="black" transform="rotate(0,336,256)"></polygon>
                <polygon class="arrowhead" points="336,136 324,130.4 324,141.6" fill="black" transform="rotate(270,328,136)"></polygon>
                <polygon class="arrowhead" points="264,96 252,90.4 252,101.6" fill="black" transform="rotate(0,256,96)"></polygon>
                <polygon class="arrowhead" points="192,176 180,170.4 180,181.6" fill="black" transform="rotate(180,184,176)"></polygon>
                <polygon class="arrowhead" points="120,408 108,402.4 108,413.6" fill="black" transform="rotate(90,112,408)"></polygon>
                <g class="text">
                  <text x="420" y="52">Kubernetes</text>
                  <text x="160" y="84">A1)</text>
                  <text x="204" y="84">access</text>
                  <text x="296" y="100">API</text>
                  <text x="340" y="100">Server</text>
                  <text x="348" y="148">1)</text>
                  <text x="392" y="148">request</text>
                  <text x="448" y="148">token</text>
                  <text x="196" y="164">2)</text>
                  <text x="244" y="164">schedule</text>
                  <text x="136" y="180">Pod</text>
                  <text x="328" y="180">Kubelet</text>
                  <text x="200" y="244">B1)</text>
                  <text x="244" y="244">access</text>
                  <text x="404" y="260">Resource</text>
                  <text x="16" y="372">C1)</text>
                  <text x="68" y="372">federate</text>
                  <text x="152" y="372">C2)</text>
                  <text x="196" y="372">access</text>
                  <text x="404" y="388">Resource</text>
                  <text x="148" y="452">Identity</text>
                  <text x="220" y="452">Provider</text>
                </g>
              </svg><a href="#section-4.1-9.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-kubernetes-workload-identit" class="selfRef">Kubernetes workload identity in practice</a>
          </figcaption></figure>
</div>
<p id="section-4.1-10">The steps shown in <a href="#fig-kubernetes" class="auto internal xref">Figure 2</a> are:<a href="#section-4.1-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-11.1">
            <p id="section-4.1-11.1.1">1) The kubelet is tasked to schedule a Pod. Based on configuration, it requests
   a Service Account Token from the Kubernetes API server.<a href="#section-4.1-11.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-11.2">
            <p id="section-4.1-11.2.1">2) The kubelet starts the Pod and, based on the configuration of the Pod,
   delivers the token to the containers within the Pod.<a href="#section-4.1-11.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-12">Now, the Pod can use the token to:<a href="#section-4.1-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-13.1">
            <p id="section-4.1-13.1.1">A) Access the Kubernetes Control Plane, considering it has access to it.<a href="#section-4.1-13.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-13.2">
            <p id="section-4.1-13.2.1">B) Access other resources within the cluster, for instance, other Pods.<a href="#section-4.1-13.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-13.3">
            <p id="section-4.1-13.3.1">C) Access resources outside of the cluster:<a href="#section-4.1-13.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-13.3.2.1">
                <p id="section-4.1-13.3.2.1.1">C1) The application within the Pod uses the Service Account Token to
    federate to an Identity Provider outside of the Kubernetes Cluster.<a href="#section-4.1-13.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-4.1-13.3.2.2">
                <p id="section-4.1-13.3.2.2.1">C2) Using the federated identity, the application within the Pod accesses
    resources outside of the cluster.<a href="#section-4.1-13.3.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
<p id="section-4.1-14">As an example, the following JSON illustrates the claims contained in a Kubernetes Service
Account token.<a href="#section-4.1-14" class="pilcrow">¶</a></p>
<span id="name-example-kubernetes-service-"></span><div id="fig-kubernetes-token">
<figure id="figure-3">
          <div class="lang-json sourcecode" id="section-4.1-15.1">
<pre>
{
  "aud": [  # matches the requested audiences, or the API server's default audiences when none are explicitly requested
    "https://kubernetes.default.svc"
  ],
  "exp": 1731613413,
  "iat": 1700077413,
  "iss": "https://kubernetes.default.svc",  # matches the first value passed to the --service-account-issuer flag
  "jti": "ea28ed49-2e11-4280-9ec5-bc3d1d84661a",  # ServiceAccountTokenJTI feature must be enabled for the claim to be present
  "kubernetes.io": {
    "namespace": "my-namespace",
    "node": {  # ServiceAccountTokenPodNodeInfo feature must be enabled for the API server to add this node reference claim
      "name": "127.0.0.1",
      "uid": "58456cb0-dd00-45ed-b797-5578fdceaced"
    },
    "pod": {
      "name": "my-workload-69cbfb9798-jv9gn",
      "uid": "778a530c-b3f4-47c0-9cd5-ab018fb64f33"
    },
    "serviceaccount": {
      "name": "my-workload",
      "uid": "a087d5a0-e1dd-43ec-93ac-f13d89cd13af"
    },
    "warnafter": 1700081020
  },
  "nbf": 1700077413,
  "sub": "system:serviceaccount:my-namespace:my-workload"
}
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-kubernetes-service-" class="selfRef">Example Kubernetes Service Account Token claims</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="spiffe">
<section id="section-4.2">
        <h3 id="name-secure-production-identity-">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-secure-production-identity-" class="section-name selfRef">Secure Production Identity Framework For Everyone (SPIFFE)</a>
        </h3>
<p id="section-4.2-1">The Secure Production Identity Framework For Everyone, also known as SPIFFE <span>[<a href="#SPIFFE" class="cite xref">SPIFFE</a>]</span>, is
a Cloud Native Computing Foundation (CNCF) project that defines a "Workload API"
to deliver machine identity to workloads. Workloads can retrieve either X.509
certificates or JWTs. How workloads authenticate to the API is not part of this
document. It is common to use platform metadata from the operating system
and the workload platform for authentication to the Workload API.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">SPIFFE refers to the JWT-formatted credential as a "JWT-SVID" (JWT - SPIFFE
Verifiable Identity Document).<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Workloads are required to specify at least one audience when requesting a
JWT-SVID from the Workload API.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">For validation, SPIFFE offers:<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-5.1">
            <p id="section-4.2-5.1.1">A set of public keys encoded in JWK format that can be used to
validate JWT signatures. In SPIFFE this is referred to as the "JWT trust
bundle".<a href="#section-4.2-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-5.2">
            <p id="section-4.2-5.2.1">A validation method on the Workload API to validate JWT-SVIDs.<a href="#section-4.2-5.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.2-6">Additionally, many SPIFFE deployments choose to separately publish the signing
keys as a JWK Set on a web server to allow validation when the
Workload API is not available.<a href="#section-4.2-6" class="pilcrow">¶</a></p>
<p id="section-4.2-7">The following figure illustrates how a workload can use its JWT-SVID to access a
protected resource outside of SPIFFE:<a href="#section-4.2-7" class="pilcrow">¶</a></p>
<span id="name-workload-identity-in-spiffe"></span><div id="fig-spiffe">
<figure id="figure-4">
          <div id="section-4.2-8.1">
            <div class="alignLeft art-svg artwork" id="section-4.2-8.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="416" width="520" viewBox="0 0 520 416" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 56,32 L 56,240" fill="none" stroke="black"></path>
                <path d="M 64,336 L 64,400" fill="none" stroke="black"></path>
                <path d="M 72,80 L 72,144" fill="none" stroke="black"></path>
                <path d="M 112,144 L 112,328" fill="none" stroke="black"></path>
                <path d="M 128,144 L 128,304" fill="none" stroke="black"></path>
                <path d="M 168,144 L 168,192" fill="none" stroke="black"></path>
                <path d="M 192,80 L 192,144" fill="none" stroke="black"></path>
                <path d="M 240,336 L 240,400" fill="none" stroke="black"></path>
                <path d="M 368,80 L 368,128" fill="none" stroke="black"></path>
                <path d="M 368,160 L 368,224" fill="none" stroke="black"></path>
                <path d="M 368,272 L 368,336" fill="none" stroke="black"></path>
                <path d="M 488,80 L 488,128" fill="none" stroke="black"></path>
                <path d="M 488,160 L 488,224" fill="none" stroke="black"></path>
                <path d="M 488,272 L 488,336" fill="none" stroke="black"></path>
                <path d="M 512,32 L 512,240" fill="none" stroke="black"></path>
                <path d="M 56,32 L 512,32" fill="none" stroke="black"></path>
                <path d="M 72,80 L 192,80" fill="none" stroke="black"></path>
                <path d="M 368,80 L 488,80" fill="none" stroke="black"></path>
                <path d="M 192,96 L 360,96" fill="none" stroke="black"></path>
                <path d="M 368,128 L 488,128" fill="none" stroke="black"></path>
                <path d="M 72,144 L 192,144" fill="none" stroke="black"></path>
                <path d="M 368,160 L 488,160" fill="none" stroke="black"></path>
                <path d="M 168,192 L 360,192" fill="none" stroke="black"></path>
                <path d="M 368,224 L 488,224" fill="none" stroke="black"></path>
                <path d="M 56,240 L 512,240" fill="none" stroke="black"></path>
                <path d="M 368,272 L 488,272" fill="none" stroke="black"></path>
                <path d="M 128,304 L 360,304" fill="none" stroke="black"></path>
                <path d="M 64,336 L 240,336" fill="none" stroke="black"></path>
                <path d="M 368,336 L 488,336" fill="none" stroke="black"></path>
                <path d="M 64,400 L 240,400" fill="none" stroke="black"></path>
                <polygon class="arrowhead" points="368,304 356,298.4 356,309.6" fill="black" transform="rotate(0,360,304)"></polygon>
                <polygon class="arrowhead" points="368,192 356,186.4 356,197.6" fill="black" transform="rotate(0,360,192)"></polygon>
                <polygon class="arrowhead" points="368,96 356,90.4 356,101.6" fill="black" transform="rotate(0,360,96)"></polygon>
                <polygon class="arrowhead" points="120,328 108,322.4 108,333.6" fill="black" transform="rotate(90,112,328)"></polygon>
                <g class="text">
                  <text x="372" y="52">SPIFFE</text>
                  <text x="424" y="52">Trust</text>
                  <text x="476" y="52">Domain</text>
                  <text x="220" y="84">1)</text>
                  <text x="248" y="84">Get</text>
                  <text x="300" y="84">JWT-SVID</text>
                  <text x="428" y="100">SPIFFE</text>
                  <text x="132" y="116">Workload</text>
                  <text x="412" y="116">Workload</text>
                  <text x="464" y="116">API</text>
                  <text x="220" y="180">A)</text>
                  <text x="260" y="180">access</text>
                  <text x="428" y="196">Resource</text>
                  <text x="16" y="292">B1)</text>
                  <text x="68" y="292">federate</text>
                  <text x="152" y="292">B2)</text>
                  <text x="196" y="292">access</text>
                  <text x="428" y="308">Resource</text>
                  <text x="116" y="372">Identity</text>
                  <text x="188" y="372">Provider</text>
                </g>
              </svg><a href="#section-4.2-8.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-workload-identity-in-spiffe" class="selfRef">Workload identity in SPIFFE</a>
          </figcaption></figure>
</div>
<p id="section-4.2-9">The steps shown in <a href="#fig-spiffe" class="auto internal xref">Figure 4</a> are:<a href="#section-4.2-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-10.1">
            <p id="section-4.2-10.1.1">1) The workload requests a JWT-SVID from the SPIFFE Workload API.<a href="#section-4.2-10.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-10.2">
            <p id="section-4.2-10.2.1">A) The JWT-SVID can be used to directly access resources or other workloads
   within the same SPIFFE Trust Domain.<a href="#section-4.2-10.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-10.3">
            <p id="section-4.2-10.3.1">B1) To access resources protected by other Identity Providers, the workload
    uses the SPIFFE JWT-SVID to federate to the Identity Provider.<a href="#section-4.2-10.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-10.4">
            <p id="section-4.2-10.4.1">B2) Once federated, the workload can access resources outside of its trust
    domain.<a href="#section-4.2-10.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.2-11.1">
            <p id="section-4.2-11.1.1">TODO: We should talk about native SPIFFE federation. Maybe a C) flow in the
diagram or at least some text.<a href="#section-4.2-11.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.2-12">Here are example claims for a JWT-SVID:<a href="#section-4.2-12" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-4.2-13">
<pre>
{
  "aud": [
    "external-authorization-server"
  ],
  "exp": 1729087175,
  "iat": 1729086875,
  "sub": "spiffe://example.org/myservice"
}
</pre><a href="#section-4.2-13" class="pilcrow">¶</a>
</div>
<p id="section-4.2-14">The <code>iss</code> (issuer) claim is optional in JWT-SVIDs per the SPIFFE specification <span>[<a href="#SPIFFE" class="cite xref">SPIFFE</a>]</span>, which defines only <code>sub</code>, <code>aud</code>, and <code>exp</code> as required claims.<a href="#section-4.2-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cloudproviders">
<section id="section-4.3">
        <h3 id="name-cloud-providers">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-cloud-providers" class="section-name selfRef">Cloud Providers</a>
        </h3>
<p id="section-4.3-1">Workloads in cloud platforms can have any shape or form. Historically, virtual
machines were the most common. The introduction of containerization brought
hosted container environments or Kubernetes clusters. Containers have evolved
into <code>serverless</code> offerings. Regardless of the actual workload packaging,
distribution, or runtime platform, all these workloads need identities.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">The biggest cloud providers have established the pattern of an "Instance
Metadata Endpoint". Aside from allowing workloads to retrieve metadata about
themselves, it also allows them to receive identity. The credential types
offered can vary. JWT, however, is the one that is common across all of them.
The issued credential provides proof to anyone it is being presented to that the
workload platform has attested the workload and it can be considered
authenticated.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">Within a cloud provider, the issued credential can often directly be used to
access resources of any kind across the platform, making integration between the
services easy and "credentialless". While the term is technically misleading,
from a user perspective, no credential needs to be issued, provisioned, rotated
or revoked, as everything is handled internally by the platform.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">This is not true for resources outside of the platform, such as on-premise
resources, generic web servers or other cloud provider resources. Here, the
workload first needs to federate to the Secure Token Service (STS), which is
effectively an Identity Provider, to receive an identity of the other cloud.
Using this different identity, the workload can then access its resources.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">This pattern also applies when accessing resources in the same cloud but across
different security boundaries (e.g., different account or tenant). The actual
flows and implementations may vary in these situations though.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<span id="name-workload-identity-in-a-clou"></span><div id="fig-cloud">
<figure id="figure-5">
          <div id="section-4.3-6.1">
            <div class="alignLeft art-svg artwork" id="section-4.3-6.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="544" width="520" viewBox="0 0 520 544" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 40,32 L 40,272" fill="none" stroke="black"></path>
                <path d="M 40,336 L 40,528" fill="none" stroke="black"></path>
                <path d="M 64,96 L 64,160" fill="none" stroke="black"></path>
                <path d="M 64,448 L 64,512" fill="none" stroke="black"></path>
                <path d="M 112,160 L 112,440" fill="none" stroke="black"></path>
                <path d="M 128,160 L 128,416" fill="none" stroke="black"></path>
                <path d="M 168,160 L 168,224" fill="none" stroke="black"></path>
                <path d="M 184,96 L 184,160" fill="none" stroke="black"></path>
                <path d="M 304,448 L 304,512" fill="none" stroke="black"></path>
                <path d="M 328,80 L 328,160" fill="none" stroke="black"></path>
                <path d="M 368,192 L 368,256" fill="none" stroke="black"></path>
                <path d="M 368,384 L 368,448" fill="none" stroke="black"></path>
                <path d="M 488,80 L 488,160" fill="none" stroke="black"></path>
                <path d="M 488,192 L 488,256" fill="none" stroke="black"></path>
                <path d="M 488,384 L 488,448" fill="none" stroke="black"></path>
                <path d="M 512,32 L 512,272" fill="none" stroke="black"></path>
                <path d="M 512,336 L 512,528" fill="none" stroke="black"></path>
                <path d="M 40,32 L 512,32" fill="none" stroke="black"></path>
                <path d="M 328,80 L 488,80" fill="none" stroke="black"></path>
                <path d="M 64,96 L 184,96" fill="none" stroke="black"></path>
                <path d="M 184,112 L 320,112" fill="none" stroke="black"></path>
                <path d="M 64,160 L 184,160" fill="none" stroke="black"></path>
                <path d="M 328,160 L 488,160" fill="none" stroke="black"></path>
                <path d="M 368,192 L 488,192" fill="none" stroke="black"></path>
                <path d="M 168,224 L 360,224" fill="none" stroke="black"></path>
                <path d="M 368,256 L 488,256" fill="none" stroke="black"></path>
                <path d="M 40,272 L 512,272" fill="none" stroke="black"></path>
                <path d="M 40,336 L 512,336" fill="none" stroke="black"></path>
                <path d="M 368,384 L 488,384" fill="none" stroke="black"></path>
                <path d="M 128,416 L 360,416" fill="none" stroke="black"></path>
                <path d="M 64,448 L 304,448" fill="none" stroke="black"></path>
                <path d="M 368,448 L 488,448" fill="none" stroke="black"></path>
                <path d="M 64,512 L 304,512" fill="none" stroke="black"></path>
                <path d="M 40,528 L 512,528" fill="none" stroke="black"></path>
                <polygon class="arrowhead" points="368,416 356,410.4 356,421.6" fill="black" transform="rotate(0,360,416)"></polygon>
                <polygon class="arrowhead" points="368,224 356,218.4 356,229.6" fill="black" transform="rotate(0,360,224)"></polygon>
                <polygon class="arrowhead" points="328,112 316,106.4 316,117.6" fill="black" transform="rotate(0,320,112)"></polygon>
                <polygon class="arrowhead" points="120,440 108,434.4 108,445.6" fill="black" transform="rotate(90,112,440)"></polygon>
                <g class="text">
                  <text x="480" y="52">Cloud</text>
                  <text x="204" y="100">1)</text>
                  <text x="232" y="100">get</text>
                  <text x="284" y="100">identity</text>
                  <text x="372" y="116">Instance</text>
                  <text x="444" y="116">Metadata</text>
                  <text x="124" y="132">Workload</text>
                  <text x="412" y="132">Service/Endpoint</text>
                  <text x="220" y="212">A)</text>
                  <text x="260" y="212">access</text>
                  <text x="428" y="228">Resource</text>
                  <text x="16" y="308">B1)</text>
                  <text x="68" y="308">federate</text>
                  <text x="152" y="308">B2)</text>
                  <text x="196" y="308">access</text>
                  <text x="316" y="356">External</text>
                  <text x="376" y="356">(e.g.</text>
                  <text x="424" y="356">other</text>
                  <text x="476" y="356">cloud)</text>
                  <text x="428" y="420">Resource</text>
                  <text x="108" y="484">Secure</text>
                  <text x="160" y="484">Token</text>
                  <text x="216" y="484">Service</text>
                  <text x="272" y="484">(STS)</text>
                </g>
              </svg><a href="#section-4.3-6.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-workload-identity-in-a-clou" class="selfRef">Workload identity in a cloud provider</a>
          </figcaption></figure>
</div>
<p id="section-4.3-7">The steps shown in <a href="#fig-cloud" class="auto internal xref">Figure 5</a> are:<a href="#section-4.3-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-8.1">
            <p id="section-4.3-8.1.1">1) The workload retrieves an identity from the Instance Metadata Service or
   Endpoint. This endpoint exposes a well-known API and is available at a well-
   known, but local, location.<a href="#section-4.3-8.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.3-9">When the workload needs to access a resource within the cloud (e.g., located in
the same security boundary; protected by the same issuer as the workload
identity):<a href="#section-4.3-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-10.1">
            <p id="section-4.3-10.1.1">A) The workload directly accesses the protected resource with the credential
issued in Step 1.<a href="#section-4.3-10.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.3-11">When the workload needs to access a resource outside of the cloud (e.g.,
different cloud; same cloud, but different security boundary):<a href="#section-4.3-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-12.1">
            <p id="section-4.3-12.1.1">B1) The workload uses the cloud-issued credential to federate to the Secure Token
    Service of the other cloud/account.<a href="#section-4.3-12.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.3-12.2">
            <p id="section-4.3-12.2.1">B2) Using the federated identity, the workload can access the resource outside,
    assuming the federated identity has the necessary permissions.<a href="#section-4.3-12.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="cicd">
<section id="section-4.4">
        <h3 id="name-continuous-integration-and-">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-continuous-integration-and-" class="section-name selfRef">Continuous Integration and Deployment Systems</a>
        </h3>
<p id="section-4.4-1">Continuous integration and deployment (CI-CD) systems allow their pipelines (or
workflows) to receive an identity every time they run. Build outputs and other
artifacts are commonly uploaded to external resources. With federation to
external Identity Providers, the pipelines and tasks can access these resources.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<span id="name-oauth2-assertion-flow-in-a-"></span><div id="fig-cicd">
<figure id="figure-6">
          <div id="section-4.4-2.1">
            <div class="alignLeft art-svg artwork" id="section-4.4-2.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="352" width="448" viewBox="0 0 448 352" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 40,32 L 40,176" fill="none" stroke="black"></path>
                <path d="M 56,80 L 56,160" fill="none" stroke="black"></path>
                <path d="M 56,272 L 56,336" fill="none" stroke="black"></path>
                <path d="M 104,160 L 104,264" fill="none" stroke="black"></path>
                <path d="M 120,160 L 120,240" fill="none" stroke="black"></path>
                <path d="M 200,80 L 200,160" fill="none" stroke="black"></path>
                <path d="M 216,272 L 216,336" fill="none" stroke="black"></path>
                <path d="M 296,208 L 296,272" fill="none" stroke="black"></path>
                <path d="M 312,80 L 312,144" fill="none" stroke="black"></path>
                <path d="M 416,80 L 416,144" fill="none" stroke="black"></path>
                <path d="M 416,208 L 416,272" fill="none" stroke="black"></path>
                <path d="M 440,32 L 440,176" fill="none" stroke="black"></path>
                <path d="M 40,32 L 440,32" fill="none" stroke="black"></path>
                <path d="M 56,80 L 200,80" fill="none" stroke="black"></path>
                <path d="M 312,80 L 416,80" fill="none" stroke="black"></path>
                <path d="M 208,112 L 312,112" fill="none" stroke="black"></path>
                <path d="M 312,144 L 416,144" fill="none" stroke="black"></path>
                <path d="M 56,160 L 200,160" fill="none" stroke="black"></path>
                <path d="M 40,176 L 440,176" fill="none" stroke="black"></path>
                <path d="M 296,208 L 416,208" fill="none" stroke="black"></path>
                <path d="M 120,240 L 288,240" fill="none" stroke="black"></path>
                <path d="M 56,272 L 216,272" fill="none" stroke="black"></path>
                <path d="M 296,272 L 416,272" fill="none" stroke="black"></path>
                <path d="M 56,336 L 216,336" fill="none" stroke="black"></path>
                <polygon class="arrowhead" points="296,240 284,234.4 284,245.6" fill="black" transform="rotate(0,288,240)"></polygon>
                <polygon class="arrowhead" points="216,112 204,106.4 204,117.6" fill="black" transform="rotate(180,208,112)"></polygon>
                <polygon class="arrowhead" points="112,264 100,258.4 100,269.6" fill="black" transform="rotate(90,104,264)"></polygon>
                <g class="text">
                  <text x="116" y="52">Continuous</text>
                  <text x="208" y="52">Integration</text>
                  <text x="264" y="52">/</text>
                  <text x="316" y="52">Deployment</text>
                  <text x="396" y="52">Platform</text>
                  <text x="220" y="100">1)</text>
                  <text x="268" y="100">schedule</text>
                  <text x="128" y="116">Pipeline/Task</text>
                  <text x="364" y="116">Platform</text>
                  <text x="124" y="132">(Workload)</text>
                  <text x="12" y="228">2)</text>
                  <text x="60" y="228">federate</text>
                  <text x="140" y="228">3)</text>
                  <text x="180" y="228">access</text>
                  <text x="356" y="244">Resource</text>
                  <text x="100" y="308">Identity</text>
                  <text x="172" y="308">Provider</text>
                </g>
              </svg><a href="#section-4.4-2.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-oauth2-assertion-flow-in-a-" class="selfRef">OAuth2 Assertion Flow in a continuous integration/deployment environment</a>
          </figcaption></figure>
</div>
<p id="section-4.4-3">The steps shown in <a href="#fig-cicd" class="auto internal xref">Figure 6</a> are:<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4-4.1">
            <p id="section-4.4-4.1.1">1) The CI-CD platform schedules a workload (pipeline or task). Based on
   configuration, a Workload Identity is made available by the platform.<a href="#section-4.4-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.4-4.2">
            <p id="section-4.4-4.2.1">2) The workload uses the identity to federate to an Identity Provider.<a href="#section-4.4-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.4-4.3">
            <p id="section-4.4-4.3.1">3) The workload uses the federated identity to access resources. For instance,
   an artifact store to upload compiled binaries, or to download libraries
   needed to resolve dependencies. It is also common to access other
   infrastructure as resources to make deployments or changes.<a href="#section-4.4-4.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.4-5">Tokens of different providers look different, but all contain claims carrying
the basic context of the executed tasks, such as source code management data
(e.g., git branch), initiation and more.<a href="#section-4.4-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-5">
      <h2 id="name-security-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-5-1">All security considerations in section 8 of <span>[<a href="#RFC7521" class="cite xref">RFC7521</a>]</span> apply.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="security-credential-delivery">
<section id="section-5.1">
        <h3 id="name-credential-delivery">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-credential-delivery" class="section-name selfRef">Credential Delivery</a>
        </h3>
<div id="environment-variables-1">
<section id="section-5.1.1">
          <h4 id="name-environment-variables-2">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-environment-variables-2" class="section-name selfRef">Environment Variables</a>
          </h4>
<p id="section-5.1.1-1">Leveraging environment variables to provide credentials presents many security
limitations. Environment variables have a wide set of use cases and are observed
by many components. They are often captured for monitoring, observability,
debugging and logging purposes and sent to components outside of the workload.
Access control is not trivial and does not achieve the same security results as
other methods.<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1.1-2">This approach should be limited to non-production cases where convenience
outweighs security considerations, and the provided secrets are limited in
validity or utility. For example, an initial secret might be used during the
setup of the application.<a href="#section-5.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="filesystem-1">
<section id="section-5.1.2">
          <h4 id="name-filesystem-2">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-filesystem-2" class="section-name selfRef">Filesystem</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.1.2-1.1">
              <p id="section-5.1.2-1.1.1">1) Access control to the mounted file should be configured to limit reads to
   authorized applications. Linux supports solutions such as DAC (uid and
   gid) or MAC (e.g., SELinux, AppArmor).<a href="#section-5.1.2-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.1.2-1.2">
              <p id="section-5.1.2-1.2.1">2) Mounted shared memory should be isolated from other host OS paths and
   processes. For example, on Linux this can be achieved by using namespaces.<a href="#section-5.1.2-1.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="local-apis-1">
<section id="section-5.1.3">
          <h4 id="name-local-apis-2">
<a href="#section-5.1.3" class="section-number selfRef">5.1.3. </a><a href="#name-local-apis-2" class="section-name selfRef">Local APIs</a>
        </h4>
</section>
</div>
</section>
</div>
<div id="token-typing">
<section id="section-5.2">
        <h3 id="name-token-typing">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-token-typing" class="section-name selfRef">Token typing</a>
        </h3>
<p id="section-5.2-1">Issuers SHOULD strongly type the issued tokens to workloads via the JOSE <code>typ</code>
header and Identity Providers accepting these tokens SHOULD validate the
value of it according to policy. See Section 3.1 of <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span> for details
on explicit typing.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">Issuers SHOULD use <code>authorization-grant+jwt</code> as a <code>typ</code> value according to
<span>[<a href="#I-D.ietf-oauth-rfc7523bis" class="cite xref">I-D.ietf-oauth-rfc7523bis</a>]</span>. For broad support, <code>JWT</code> or <code>JOSE</code> MAY be used by
issuers and accepted by authorization servers but it is important to highlight
that a wide range of tokens, meant for all sorts of purposes, use these values
and would be accepted.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="custom-claims-are-important-for-context">
<section id="section-5.3">
        <h3 id="name-custom-claims-are-important">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-custom-claims-are-important" class="section-name selfRef">Custom claims are important for context</a>
        </h3>
<p id="section-5.3-1">Some platform-issued credentials have custom claims that are vital for context
and are required to be validated. For example, in a continuous integration and
deployment platform where a workload is scheduled for a Git repository, the
branch is crucial. A "main" branch may be protected and considered trusted to
federate to external authorization servers. But other branches may not be
allowed to access protected resources.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">Authorization servers that validate assertions SHOULD make use of these claims.
Platform issuers SHOULD allow differentiation based on the subject claim alone.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="token-lifetime">
<section id="section-5.4">
        <h3 id="name-token-lifetime">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-token-lifetime" class="section-name selfRef">Token lifetime</a>
        </h3>
<p id="section-5.4-1">Tokens SHOULD NOT exceed the lifetime of the workloads they represent. For
example, a workload that has an expected lifetime of one hour should not receive
a token valid for two hours or more.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">Within the scope of this document, where a platform-issued credential is used
to authenticate to retrieve an access token for an external authorization
domain, short-lived credentials are recommended.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="workload-lifecycle-and-invalidation">
<section id="section-5.5">
        <h3 id="name-workload-lifecycle-and-inva">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-workload-lifecycle-and-inva" class="section-name selfRef">Workload lifecycle and invalidation</a>
        </h3>
<p id="section-5.5-1">Platform issuers SHOULD invalidate tokens when the workload stops, pauses, or
ceases to exist and SHOULD offer validators the posibility to query this status.
How these credentials are invalidated and the status is queried depends on platform
authentication mechanisms and is not in scope of this document.<a href="#section-5.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="proof-of-possession">
<section id="section-5.6">
        <h3 id="name-proof-of-possession">
<a href="#section-5.6" class="section-number selfRef">5.6. </a><a href="#name-proof-of-possession" class="section-name selfRef">Proof of possession</a>
        </h3>
<p id="section-5.6-1">Credentials SHOULD be bound to workloads, and proof of possession SHOULD be
performed when these credentials are used. This mitigates token theft. This
proof of possession applies to both the platform credential and the access token of
the external authorization domains.<a href="#section-5.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="audience">
<section id="section-5.7">
        <h3 id="name-audience">
<a href="#section-5.7" class="section-number selfRef">5.7. </a><a href="#name-audience" class="section-name selfRef">Audience</a>
        </h3>
<p id="section-5.7-1">For issued credentials in the form of JWTs, they MUST be audienced using the
<code>aud</code> claim. Each JWT SHOULD only carry a single audience. We RECOMMEND using
URIs to specify audiences. See Section 3 of <span>[<a href="#RFC8707" class="cite xref">RFC8707</a>]</span> for more details and
security implications.<a href="#section-5.7-1" class="pilcrow">¶</a></p>
<p id="section-5.7-2">Some workload platforms provide credentials for interacting with their own APIs
(e.g., Kubernetes). These credentials MUST NOT be used beyond the platform API.
In the example of Kubernetes, a token used for anything other than the Kubernetes
API itself MUST NOT carry the Kubernetes server in the <code>aud</code> claim.<a href="#section-5.7-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-6-1">This document does not require actions by IANA.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgements">
<section id="section-7">
      <h2 id="name-acknowledgements">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-7-1">The authors and contributors would like to thank the following people for their feedback and contributions to this document (in no particular order): Dag Sneeggen, Ned Smith, Dean H. Saxe, Yaron Sheffer, Andrii Deinega, Marcel Levy, Justin Richer, Pieter Kasselmann, Simon Canning, Evan Gilman and Joseph Salowey.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-combined-references">
<section id="section-8">
      <h2 id="name-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-8.1">
        <h3 id="name-normative-references">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6749">[RFC6749]</dt>
        <dd>
<span class="refAuthor">Hardt, D., Ed.</span>, <span class="refTitle">"The OAuth 2.0 Authorization Framework"</span>, <span class="seriesInfo">RFC 6749</span>, <span class="seriesInfo">DOI 10.17487/RFC6749</span>, <time datetime="2012-10" class="refDate">October 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6749">https://www.rfc-editor.org/rfc/rfc6749</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7517">[RFC7517]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refTitle">"JSON Web Key (JWK)"</span>, <span class="seriesInfo">RFC 7517</span>, <span class="seriesInfo">DOI 10.17487/RFC7517</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7517">https://www.rfc-editor.org/rfc/rfc7517</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7519">[RFC7519]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Token (JWT)"</span>, <span class="seriesInfo">RFC 7519</span>, <span class="seriesInfo">DOI 10.17487/RFC7519</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7519">https://www.rfc-editor.org/rfc/rfc7519</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7521">[RFC7521]</dt>
        <dd>
<span class="refAuthor">Campbell, B.</span>, <span class="refAuthor">Mortimore, C.</span>, <span class="refAuthor">Jones, M.</span>, and <span class="refAuthor">Y. Goland</span>, <span class="refTitle">"Assertion Framework for OAuth 2.0 Client Authentication and Authorization Grants"</span>, <span class="seriesInfo">RFC 7521</span>, <span class="seriesInfo">DOI 10.17487/RFC7521</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7521">https://www.rfc-editor.org/rfc/rfc7521</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7523">[RFC7523]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Campbell, B.</span>, and <span class="refAuthor">C. Mortimore</span>, <span class="refTitle">"JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants"</span>, <span class="seriesInfo">RFC 7523</span>, <span class="seriesInfo">DOI 10.17487/RFC7523</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7523">https://www.rfc-editor.org/rfc/rfc7523</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8414">[RFC8414]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Sakimura, N.</span>, and <span class="refAuthor">J. Bradley</span>, <span class="refTitle">"OAuth 2.0 Authorization Server Metadata"</span>, <span class="seriesInfo">RFC 8414</span>, <span class="seriesInfo">DOI 10.17487/RFC8414</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8414">https://www.rfc-editor.org/rfc/rfc8414</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8693">[RFC8693]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Nadalin, A.</span>, <span class="refAuthor">Campbell, B., Ed.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">C. Mortimore</span>, <span class="refTitle">"OAuth 2.0 Token Exchange"</span>, <span class="seriesInfo">RFC 8693</span>, <span class="seriesInfo">DOI 10.17487/RFC8693</span>, <time datetime="2020-01" class="refDate">January 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8693">https://www.rfc-editor.org/rfc/rfc8693</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8707">[RFC8707]</dt>
        <dd>
<span class="refAuthor">Campbell, B.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Resource Indicators for OAuth 2.0"</span>, <span class="seriesInfo">RFC 8707</span>, <span class="seriesInfo">DOI 10.17487/RFC8707</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8707">https://www.rfc-editor.org/rfc/rfc8707</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8725">[RFC8725]</dt>
      <dd>
<span class="refAuthor">Sheffer, Y.</span>, <span class="refAuthor">Hardt, D.</span>, and <span class="refAuthor">M. Jones</span>, <span class="refTitle">"JSON Web Token Best Current Practices"</span>, <span class="seriesInfo">BCP 225</span>, <span class="seriesInfo">RFC 8725</span>, <span class="seriesInfo">DOI 10.17487/RFC8725</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8725">https://www.rfc-editor.org/rfc/rfc8725</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-8.2">
        <h3 id="name-informative-references">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-oauth-rfc7523bis">[I-D.ietf-oauth-rfc7523bis]</dt>
        <dd>
<span class="refAuthor">Jones, M. B.</span>, <span class="refAuthor">Campbell, B.</span>, <span class="refAuthor">Mortimore, C.</span>, and <span class="refAuthor">F. Skokan</span>, <span class="refTitle">"Updates to Audience Values for OAuth 2.0 Authorization Servers"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-oauth-rfc7523bis-02</span>, <time datetime="2025-07-22" class="refDate">22 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-oauth-rfc7523bis-02">https://datatracker.ietf.org/doc/html/draft-ietf-oauth-rfc7523bis-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-wimse-arch">[I-D.ietf-wimse-arch]</dt>
        <dd>
<span class="refAuthor">Salowey, J. A.</span>, <span class="refAuthor">Rosomakho, Y.</span>, and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Workload Identity in a Multi System Environment (WIMSE) Architecture"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-wimse-arch-05</span>, <time datetime="2025-07-07" class="refDate">7 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-wimse-arch-05">https://datatracker.ietf.org/doc/html/draft-ietf-wimse-arch-05</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-wimse-s2s-protocol">[I-D.ietf-wimse-s2s-protocol]</dt>
        <dd>
<span class="refAuthor">Campbell, B.</span>, <span class="refAuthor">Salowey, J. A.</span>, <span class="refAuthor">Schwenkschuster, A.</span>, and <span class="refAuthor">Y. Sheffer</span>, <span class="refTitle">"WIMSE Workload to Workload Authentication"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-wimse-s2s-protocol-06</span>, <time datetime="2025-07-04" class="refDate">4 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-wimse-s2s-protocol-06">https://datatracker.ietf.org/doc/html/draft-ietf-wimse-s2s-protocol-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="KubernetesServiceAccount">[KubernetesServiceAccount]</dt>
        <dd>
<span class="refTitle">"Kubernetes Service Account"</span>, <time datetime="2024-05" class="refDate">May 2024</time>, <span>&lt;<a href="https://kubernetes.io/docs/concepts/security/service-accounts/">https://kubernetes.io/docs/concepts/security/service-accounts/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OIDC">[OIDC]</dt>
        <dd>
<span class="refAuthor">Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., and C. Mortimore</span>, <span class="refTitle">"OpenID Connect Core 1.0 incorporating errata set 1"</span>, <time datetime="2014-11" class="refDate">November 2014</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OIDCDiscovery">[OIDCDiscovery]</dt>
        <dd>
<span class="refAuthor">Sakimura, N., Bradley, J., Jones, M. and Jay, E.</span>, <span class="refTitle">"OpenID Connect Discovery 1.0 incorporating errata set 2"</span>, <time datetime="2023-12" class="refDate">December 2023</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-discovery-1_0.html">https://openid.net/specs/openid-connect-discovery-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SPIFFE">[SPIFFE]</dt>
        <dd>
<span class="refTitle">"Secure Production Identity Framework for Everyone (SPIFFE)"</span>, <time datetime="2023-05" class="refDate">May 2023</time>, <span>&lt;<a href="https://github.com/spiffe/spiffe/blob/main/standards/SPIFFE.md">https://github.com/spiffe/spiffe/blob/main/standards/SPIFFE.md</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TokenRequestV1">[TokenRequestV1]</dt>
        <dd>
<span class="refTitle">"Kubernetes Token Request API V1"</span>, <time datetime="2024-08" class="refDate">August 2024</time>, <span>&lt;<a href="https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-request-v1/">https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-request-v1/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TokenReviewV1">[TokenReviewV1]</dt>
      <dd>
<span class="refTitle">"Kubernetes Token Review API V1"</span>, <time datetime="2024-08" class="refDate">August 2024</time>, <span>&lt;<a href="https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-review-v1/">https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-review-v1/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="variations">
<section id="appendix-A">
      <h2 id="name-variations">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-variations" class="section-name selfRef">Variations</a>
      </h2>
<div id="direct-access-to-protected-resources">
<section id="appendix-A.1">
        <h3 id="name-direct-access-to-protected-">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-direct-access-to-protected-" class="section-name selfRef">Direct access to protected resources</a>
        </h3>
<p id="appendix-A.1-1">Resource servers that protect resources may choose to trust multiple authorization servers, including the one that issues the platform identities. Instead of using the platform-issued identity to receive an access token of a different authorization domain, workloads can directly use the platform-issued identity to access a protected resource.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1-2">In this case, technically, the protected resource and workload are part of the same authorization domain.<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="custom-assertion-flows">
<section id="appendix-A.2">
        <h3 id="name-custom-assertion-flows">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-custom-assertion-flows" class="section-name selfRef">Custom assertion flows</a>
        </h3>
<p id="appendix-A.2-1">While <span>[<a href="#RFC7521" class="cite xref">RFC7521</a>]</span> and <span>[<a href="#RFC7523" class="cite xref">RFC7523</a>]</span> are the proposed standards for this pattern, some authorization servers use <span>[<a href="#RFC8693" class="cite xref">RFC8693</a>]</span> or a custom API for the issuance of an access token based on existing platform identity credentials. These patterns are not recommended and prevent interoperability.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="document-history">
<section id="appendix-B">
      <h2 id="name-document-history">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-document-history" class="section-name selfRef">Document History</a>
      </h2>
<p id="appendix-B-1">[[ To be removed from the final specification ]]<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">-02<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-3.1">
          <p id="appendix-B-3.1.1">Updated structure, bringing concrete examples back into the main text.<a href="#appendix-B-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-3.2">
          <p id="appendix-B-3.2.1">Use more generic "federation" term instead of RFC 7523 specifics.<a href="#appendix-B-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-3.3">
          <p id="appendix-B-3.3.1">Overall editorial improvements.<a href="#appendix-B-3.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-3.4">
          <p id="appendix-B-3.4.1">Fix reference of Kubernetes Token Request API<a href="#appendix-B-3.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-3.5">
          <p id="appendix-B-3.5.1">Prefer the term "document" over "specification".<a href="#appendix-B-3.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-3.6">
          <p id="appendix-B-3.6.1">Update contributor and acknowledgements sections.<a href="#appendix-B-3.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-3.7">
          <p id="appendix-B-3.7.1">Remove section about OIDC as it is too specific to a certain implementation.<a href="#appendix-B-3.7.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-3.8">
          <p id="appendix-B-3.8.1">Rewrite abstract to better reflect the current content of the document.<a href="#appendix-B-3.8.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-B-4">-01<a href="#appendix-B-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-5.1">
          <p id="appendix-B-5.1.1">Add credential delivery mechanisms<a href="#appendix-B-5.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-5.2">
          <p id="appendix-B-5.2.1">Highlight relationship to other WIMSE work<a href="#appendix-B-5.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-5.3">
          <p id="appendix-B-5.3.1">Add details about token typing and relation to OpenID Connect<a href="#appendix-B-5.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-5.4">
          <p id="appendix-B-5.4.1">Add security considerations for audience<a href="#appendix-B-5.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-B-6">-00<a href="#appendix-B-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-7.1">
          <p id="appendix-B-7.1.1">Rename draft with no content changes.<a href="#appendix-B-7.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-7.2">
          <p id="appendix-B-7.2.1">Set Arndt to Editor role.<a href="#appendix-B-7.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-B-8"><strong>[as draft-wimse-workload-identity-bcp]</strong><a href="#appendix-B-8" class="pilcrow">¶</a></p>
<p id="appendix-B-9">-02<a href="#appendix-B-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-10.1">
          <p id="appendix-B-10.1.1">Move scope from Kubernetes to generic workload identity platform<a href="#appendix-B-10.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-10.2">
          <p id="appendix-B-10.2.1">Add various patterns to appendix<a href="#appendix-B-10.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-10.2.2.1">
              <p id="appendix-B-10.2.2.1.1">Kubernetes<a href="#appendix-B-10.2.2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-B-10.2.2.2">
              <p id="appendix-B-10.2.2.2.1">Cloud providers<a href="#appendix-B-10.2.2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-B-10.2.2.3">
              <p id="appendix-B-10.2.2.3.1">SPIFFE<a href="#appendix-B-10.2.2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="appendix-B-10.2.2.4">
              <p id="appendix-B-10.2.2.4.1">CI/CD<a href="#appendix-B-10.2.2.4.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</li>
        <li class="normal" id="appendix-B-10.3">
          <p id="appendix-B-10.3.1">Add some security considerations<a href="#appendix-B-10.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-10.4">
          <p id="appendix-B-10.4.1">Update title<a href="#appendix-B-10.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-B-11">-01<a href="#appendix-B-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-12.1">
          <p id="appendix-B-12.1.1">Editorial updates<a href="#appendix-B-12.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="appendix-B-13">-00<a href="#appendix-B-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-14.1">
          <p id="appendix-B-14.1.1">Adopted by the WIMSE WG<a href="#appendix-B-14.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="contributors">
<section id="appendix-C">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Benedikt Hofmann</span></div>
<div dir="auto" class="left"><span class="org">Siemens</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:hofmann.benedikt@siemens.com" class="email">hofmann.benedikt@siemens.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Hannes Tschofenig</span></div>
<div dir="auto" class="left"><span class="org">Siemens</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:hannes.tschofenig@gmx.net" class="email">hannes.tschofenig@gmx.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Edoardo Giordano</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:edoardo.giordano@nokia.com" class="email">edoardo.giordano@nokia.com</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Arndt Schwenkschuster</span></div>
<div dir="auto" class="left"><span class="org">SPIRL</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:arndts.ietf@gmail.com" class="email">arndts.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yaroslav Rosomakho</span></div>
<div dir="auto" class="left"><span class="org">Zscaler</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yrosomakho@zscaler.com" class="email">yrosomakho@zscaler.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
